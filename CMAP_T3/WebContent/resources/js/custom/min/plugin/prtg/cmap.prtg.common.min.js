var openWindow,prtgLoginWindow,URI_LOGIN="getLoginUri",URI_INDEX="getPrtgIndexUri",URI_DASHBOARD="getPrtgDashboardUri",URI_NET_FLOW_SUMMARY="getPrtgNetFlowSummaryUri",URI_DEVICE_FAILURE="getPrtgDeviceFailureUri",URI_ABNORMAL_TRAFFIC="getPrtgAbnormalTrafficUri",OPEN_METHOD_IFRAME="IFRAME",OPEN_METHOD_WINDOW="WINDOW";function getPrtgUri(e,n){$.ajax({url:_ctx+"/prtg/"+e,headers:{Accept:"application/json","Content-Type":"application/json"},type:"POST",dataType:"json",async:!1,success:function(e){if("200"==e.code){var o=e.data.uri;n==OPEN_METHOD_IFRAME?$("#prtgFrame").attr("src",o):n==OPEN_METHOD_WINDOW&&openPrtgWindow(o)}else alert(e.message)},error:function(e,n,o){alert("取得PRTG資訊失敗，請重新操作或連繫系統管理員")}})}function getLoginUri(){$.ajax({url:_ctx+"/prtg/getLoginUri",headers:{Accept:"application/json","Content-Type":"application/json"},type:"POST",dataType:"json",async:!1,success:function(e){"200"==e.code?openPrtgLoginSmallWindow(e.data.uri):alert(e.message)},error:function(e,n,o){alert("取得PRTG資訊失敗，請重新操作或連繫系統管理員")}})}function openPrtgWindow(e){var n=$("#uriFrame").get(0).getBoundingClientRect(),o=parseInt(n.left)+parseInt(null!=window.screenX?window.screenX:window.screenLeft)+30,t=parseInt(n.top)+parseInt(null!=window.screenY?window.screenY:window.screenTop)+100,i=n.width,r=n.height-50;(openWindow=window.open(e,"_prtg","toolbar=no,scrollbars=yes,titlebar=no,status=no,menubar=no,location=no,resizable=yes,top="+t+",left="+o+",width="+i+",height="+r+'"')).focus()}function closeOpenWindow(){null!=openWindow&&openWindow.close()}function openPrtgLoginSmallWindow(e){(prtgLoginWindow=window.open(e,"_prtgLogin",'toolbar=no,scrollbars=yes,titlebar=no,status=no,menubar=no,location=no,resizable=yes,top=10000,left=10000,width=10,height=10"')).blur()}function closePrtgLoginSmallWindow(){prtgLoginWindow.close()}function adjustHeight(){var e=0;e="none"!=$(".mobile-menu").css("display")?$(".navbar").outerHeight()+$(".footer").outerHeight()+$(".mobile-menu").outerHeight():$(".navbar").outerHeight()+$(".footer").outerHeight();var n=$(window).height()-e-10;$("#uriFrame").css("height",n)}